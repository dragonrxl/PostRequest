# -*- coding: utf-8 -*-
__author__ = 'rxl'

import requests
import time


API_ENDPOINT = "http://localhost:9090/clfarm/sensor/collect"

def postfun():
	sensorDatas = []
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>100</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>14.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>100</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>32.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>100</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>3.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>100</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>60.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>100</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>132.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>100</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>12.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>101</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>15.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>101</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>33.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>101</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>4.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>101</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>61.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>101</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>142.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>101</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>22.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>102</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>16.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>102</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>34.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>102</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>5.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>102</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>62.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>102</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>152.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>102</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>32.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>103</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>17.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>103</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>35.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>103</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>6.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>103</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>63.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>103</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>162.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>103</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>42.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>104</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>18.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>104</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>36.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>104</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>7.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>104</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>64.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>104</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>172.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>104</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>52.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>105</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>19.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>105</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>37.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>105</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>12.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>105</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>65.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>105</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>182.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>105</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>62.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>106</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>22.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>106</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>38.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>106</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>13.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>106</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>66.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>106</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>192.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>106</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>72.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>107</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>23.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>107</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>39.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>107</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>24.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>107</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>67.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>107</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>134.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>107</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>82.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>108</Id><Type>GK_AIRTEMP</Type><Name>温度传感器</Name><Value>24.5</Value><chnId>0</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>108</Id><Type>GK_AIRHUMI</Type><Name>湿度传感器</Name><Value>43.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>108</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>33.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>108</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>68.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>108</Id><Type>HK_ILLUMI</Type><Name>光照度传感器</Name><Value>127.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>108</Id><Type>GK_AIRCO2</Type><Name>二氧化碳传感器</Name><Value>92.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
		
	sensorDatas.append('<?xml version="1.0" encoding="UTF-8"?><Sensors><Sensor><Id>110</Id><Type>WSTEMP</Type><Name>温度传感器</Name><Value>34.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSHUMI</Type><Name>湿度传感器</Name><Value>32.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>23.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>29.5</Value><chnId>1</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>QF_SOILTEMP</Type><Name>土壤温度传感器</Name><Value>32.5</Value><chnId>2</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>63.5</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>69.5</Value><chnId>1</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>QF_SOILHUMI</Type><Name>土壤湿度传感器</Name><Value>83.5</Value><chnId>2</chnId><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSWS</Type><Name>风速传感器</Name><Value>4.0</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSWD</Type><Name>风向传感器</Name><Value>44.0</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSATMO</Type><Name>气压传感器</Name><Value>997.0</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSLIGHT</Type><Name>照射时间传感器</Name><Value>102.0</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSILLU</Type><Name>光照度传感器</Name><Value>152.0</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSRADI</Type><Name>辐射度传感器</Name><Value>552.0</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSRAIN</Type><Name>降雨量传感器</Name><Value>22.0</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>WSPM25</Type><Name>Pm2.5传感器</Name><Value>28.10</Value><chnId>0</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>CONTROL</Type><Name>灌溉总阀门</Name><Value>0</Value><chnId>1</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>CONTROL</Type><Name>1号棚灌溉阀门</Name><Value>0</Value><chnId>2</chnId ><Time>2017-07-19 08:23:00</Time></Sensor><Sensor><Id>110</Id><Type>CONTROL</Type><Name>1号棚滴溉阀门</Name><Value>0</Value><chnId>3</chnId ><Time>2017-07-19 08:23:00</Time></Sensor></Sensors>')
	for sensordata in sensorDatas:
		data = {'msginfo':sensordata}
		r = requests.post(url = API_ENDPOINT, data = data)
		pastebin_url = r.text
		print("The pastebin URL is: %s" % pastebin_url)
	return
	

postfun()
#Timer(600,postfun).start()
def run():
	while(1):
		time.sleep( 300 )
		postfun()
run()
postfun()